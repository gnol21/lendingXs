$(document).ready((function(){let t=0;function n(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function e(t){t?($("#loading-spinner").show(),$("button").prop("disabled",!0)):($("#loading-spinner").hide(),$("button").prop("disabled",!1))}e(!0),$.ajax({url:"https://iptv.givethanksgrocers.com/lending/loan.php",method:"GET",success:function(a){let d=$("#table-body");d.empty(),t=0,a.forEach((function(e){t++,d.append(`<tr data-id="${e.LoanID}">\n                            <td>${t}</td>\n                            <td class="text-capitalize">${e.BorrowerName}</td>\n                            <td >₱${n(e.LoanAmount)}</td>\n                            <td>${e.LoanDate}</td>\n                            <td >${function(t){if(t){var n=new Date(t);return n.setMonth(n.getMonth()+1),n.toISOString().split("T")[0]}}(e.LoanDate)}</td>\n                            <td>₱${n(e.MonthlyPayment)}</td>\n                            <td >0/${e.TermMonths}</td>\n                            <td >${e.Status}</td>\n                            <td class="text-center">\n                                <button class="btn btn-primary btn-sm repay-btn" data-id="${e.LoanID}" style="width: 100%;">Repayment</button>\n                            </td>\n                        </tr>`)})),d.append(""),e(!1)},error:function(){alert("Failed to fetch loans"),e(!1)}})}));